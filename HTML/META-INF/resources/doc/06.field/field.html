<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>フィールドとバリデータ</title>
		<link type="text/css" href="../css/document.css" rel="stylesheet" />
	</head>
	<body>
		<h1><span>7.</span>フィールドとバリデータ</h1>
		<p>
			フィールドクラスはデータベースアクセス用のテーブルや問合せクラスに配置され、データベースの保存するデータの型を決定します。
			また、フォームクラスにも配置し、HTMLの&lt;input ...&gt;や&lt;select ...&gt;...&lt;/select&gt;などのページ中の入力フィールドに対応します。
		</p>
		<p>
			フィールドクラスの主な役割はバリデーションとデータ変換になります。
			整数を入力しデータベースに保存する場合、フォームに入力された"123"という文字列を整数として成立する文字列かどうかをチェックし(バリデーション)、
			問題になければ整数に変換してデータベースに保存するというステップが必要になります。
			このようなコードはそれほど難しいものではないのですが、フィールドごとに記述すると大量のコードになりBUGの温床になります。
			dataforms2.jarではIntegerFieldをフォームとテーブルに配置するだけで、このような処理が自動的に動作するようになっています。
		</p>
		<p>
			また、Javaのフィールドクラスに対応するJavascriptクラスを作成することによって、特殊な入力補助機能を実装することが可能です。
		</p>
		<h2>SQLのデータ型に対応したフィールド</h2>
		<p>

		</p>
		<table>
			<caption>
				SQLのデータ型に対応したフィールドの一覧
			</caption>
			<thead>
				<tr>
					<th style="width:40px;">No.</th><th style="width:200px;">クラス名</th><th style="width:100px;">Java型<br/>SQL型</th><th style="width:300px;">対応するHTML TAG</th><th style="width: 300px;">用途</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td style="text-align: right;">1</td><td>CharField</td><td>java.lang.String<br/>char</td><td>&lt;input type=&quot;text&quot; ...&gt;</td><td>固定長文字列(char)の入力フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">2</td><td>VarcharField</td><td>java.lang.String<br/>varchar</td><td>&lt;input type=&quot;text&quot; ...&gt;</td><td>可変長文字列(varchar)の入力フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">3</td><td>ClobField</td><td>java.lang.String<br/>clob</td><td>&lt;textarea ...&gt;...&lt;/textarea&gt;</td><td>テキストの入力フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">4</td><td>SmallintField</td><td>java.lang.Short<br/>smallint</td><td>&lt;input type=&quot;text&quot; ...&gt;</td><td>2バイト整数の入力フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">5</td><td>IntegerField</td><td>java.lang.Integer<br/>integer</td><td>&lt;input type=&quot;text&quot; ...&gt;</td><td>4バイト整数の入力フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">6</td><td>BigintField</td><td>java.lang.Long<br/>bigint</td><td>&lt;input type=&quot;text&quot; ...&gt;</td><td>8バイト整数の入力フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">7</td><td>DoubleField</td><td>java.lang.Double<br/>double</td><td>&lt;input type=&quot;text&quot; ...&gt;</td><td>実数の入力フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">8</td><td>NumericField</td><td>java.math.BigDecimal<br/>numeric</td><td>&lt;input type=&quot;text&quot; ...&gt;</td><td>数値の入力フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">9</td><td>DateField</td><td>java.sql.Date<br/>date</td><td>&lt;input type=&quot;text&quot; ...&gt;</td><td>日付の入力フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">10</td><td>TimeField</td><td>java.sql.Time<br/>time</td><td>&lt;input type=&quot;text&quot; ...&gt;</td><td>時刻の入力フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">11</td><td>TimestampField</td><td>java.sql.Timestamp<br/>timestamp</td><td>&lt;input type=&quot;text&quot; ...&gt;</td><td>日付時刻の入力フィールド</td>
				</tr>
			</tbody>
		</table>

		<h2>選択フィールド</h2>
		<p>

		</p>
		<table>
			<caption>
				フィールド一覧
			</caption>
			<thead>
				<tr>
					<th style="width:40px;">No.</th><th style="width:200px;">クラス名</th><th style="width:100px;">Java型<br/>SQL型</th><th style="width:300px;">対応するHTML TAG</th><th style="width: 300px;">用途</th>
				</tr>
			</thead>
			<tbody>
					<td style="text-align: right;">1</td>
					<td>BigintSingleSelectField</td>
					<td>java.lang.Long<br/>igint</td>
					<td>&lt;input type=&quot;radio&quot; ...&gt;<br/>&lt;select&gt;...&lt;/select&gt;</td>
					<td>8バイト整数の選択フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">2</td>
					<td>CharSingleSelectField</td>
					<td>java.lang.Long<br/>char</td>
					<td>&lt;input type=&quot;radio&quot; ...&gt;<br/>&lt;select&gt;...&lt;/select&gt;</td>
					<td>文字列の選択フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">3</td>
					<td>IntegerSingleSelectField</td>
					<td>java.lang.Integer<br/>integer</td>
					<td>&lt;input type=&quot;radio&quot; ...&gt;<br/>&lt;select&gt;...&lt;/select&gt;</td>
					<td>4バイト整数の選択フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">4</td>
					<td>SmallintSingleSelectField</td>
					<td>java.lang.Short<br/>smallint</td>
					<td>&lt;input type=&quot;radio&quot; ...&gt;<br/>&lt;select&gt;...&lt;/select&gt;</td>
					<td>2バイト整数の選択フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">5</td>
					<td>VarcharSingleSelectField</td>
					<td>java.lang.String<br/>varchar</td>
					<td>&lt;input type=&quot;radio&quot; ...&gt;<br/>&lt;select&gt;...&lt;/select&gt;</td>
					<td>可変長文字列の選択フィールド</td>
				</tr>
				<!--  -->
				<tr>
					<td style="text-align: right;">6</td>
					<td>MasterSingleSelectField</td>
					<td>java.lang.Long<br/>bigint</td>
					<td>&lt;input type=&quot;radio&quot; ...&gt;<br/>&lt;select&gt;...&lt;/select&gt;</td>
					<td>
						任意のマスタテーブルから選択肢を取得する選択フィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">7</td>
					<td>EnumOptionSingleSelectField</td>
					<td>java.lang.String<br/>varchar</td>
					<td>&lt;input type=&quot;radio&quot; ...&gt;<br/>&lt;select&gt;...&lt;/select&gt;</td>
					<td>
						列挙型の選択肢を選択するフィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">8</td>
					<td>EnumTypeSingleSelectField</td>
					<td>java.lang.String<br/>varchar</td>
					<td>&lt;input type=&quot;radio&quot; ...&gt;<br/>&lt;select&gt;...&lt;/select&gt;</td>
					<td>
						列挙型グループに含まれる列挙型の選択フィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">9</td>
					<td>PropertiesSingleSelectField</td>
					<td>java.lang.String<br/>varchar</td>
					<td>&lt;input type=&quot;radio&quot; ...&gt;<br/>&lt;select&gt;...&lt;/select&gt;</td>
					<td>*.propertiesファイルから選択肢を取得する選択フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">10</td>
					<td>PresenceField</td>
					<td>java.lang.String<br/>varchar</td>
					<td>&lt;input type=&quot;radio&quot; ...&gt;<br/>&lt;select&gt;...&lt;/select&gt;</td>
					<td>有無を選択するフィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">11</td>
					<td>LangCodeField</td>
					<td>java.lang.String<br/>varchar</td>
					<td>&lt;input type=&quot;radio&quot; ...&gt;<br/>&lt;select&gt;...&lt;/select&gt;</td>
					<td>システムのサポートする言語コードを選択するフィールド</td>
				</tr>
			</tbody>
		</table>
		<h2>複数選択フィールド</h2>
		<p>
		</p>
		<table>
			<caption>
				フィールド一覧
			</caption>
			<thead>
				<tr>
					<th style="width:40px;">No.</th><th style="width:200px;">クラス名</th><th style="width:100px;">Java型<br/>SQL型</th><th style="width:300px;">対応するHTML TAG</th><th style="width: 300px;">用途</th>
				</tr>
			</thead>
			<tbody>
				<!--  -->
				<tr>
					<td style="text-align: right;">1</td>
					<td>MultiSelectField&lt;TYPE&gt;</td>
					<td>java.lang.List&lt;TYPE&gt;<br/>clob(json形式)</td>
					<td>&lt;input type=&quot;checkbox&quot; ...&gt;<br/>&lt;select ... multiple&gt;...&lt;/select&gt;</td>
					<td>複数選択フィールドの基本クラス</td>
				</tr>
				<tr>
					<td style="text-align: right;">2</td>
					<td>MasterMultiSelectField</td>
					<td>java.lang.List&lt;Long&gt;<br/>clob(json形式)</td>
					<td>&lt;input type=&quot;checkbox&quot; ...&gt;<br/>&lt;select ... multiple&gt;...&lt;/select&gt;</td>
					<td>任意のマスタテーブルから選択肢を取得する複数選択フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">3</td>
					<td>EnumOptionMultiSelectField</td>
					<td>java.lang.List&lt;String&gt;<br/>clob(json形式)</td>
					<td>&lt;input type=&quot;checkbox&quot; ...&gt;<br/>&lt;select ... multiple&gt;...&lt;/select&gt;</td>
					<td>列挙型の選択肢の複数選択フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">4</td>
					<td>PropertiesMultiSelectField</td>
					<td>java.lang.List&lt;String&gt;<br/>clob(json形式)</td>
					<td>&lt;input type=&quot;checkbox&quot; ...&gt;<br/>&lt;select ... multiple&gt;...&lt;/select&gt;</td>
					<td>*.propertiesファイルから選択肢を取得する複数選択フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">5</td>
					<td>PresenceMultiSelectField</td>
					<td>java.lang.List&lt;String&gt;<br/>clob(json形式)</td>
					<td>&lt;input type=&quot;checkbox&quot; ...&gt;<br/>&lt;select ... multiple&gt;...&lt;/select&gt;</td>
					<td>有無の複数選択フィールド</td>
				</tr>
				<tr>
					<td style="text-align: right;">6</td>
					<td>FlagMultiSelectField</td>
					<td>java.lang.List&lt;String&gt;<br/>clob(json形式)</td>
					<td>&lt;input type=&quot;checkbox&quot; ...&gt;<br/>&lt;select ... multiple&gt;...&lt;/select&gt;</td>
					<td>ON/OFFの複数選択フィールド</td>
				</tr>
			</tbody>
		</table>
		<h2>ファイルフィールド</h2>
		<table>
			<caption>
				フィールド一覧
			</caption>
			<thead>
				<tr>
					<th style="width:40px;">No.</th><th style="width:200px;">クラス名</th><th style="width:100px;">Java型<br/>SQL型</th><th style="width:300px;">対応するHTML TAG</th><th style="width: 300px;">用途</th>
				</tr>
			</thead>
			<tbody>
				<!--  -->
				<tr>
					<td style="text-align: right;">1</td>
					<td>BlobStoreFileField</td>
					<td>dataforms.dao.file.FileObject<br/>blob</td>
					<td>&lt;input type=&quot;file&quot; ...&gt;</td>
					<td>
						任意のファイルをblobに保存するフィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">2</td>
					<td>FolderStoreFileField</td>
					<td>dataforms.dao.file.FileObject<br/>varchar</td>
					<td>&lt;input type=&quot;file&quot; ...&gt;</td>
					<td>
						任意のファイルをフォルダに保存しvarchar型にそのpathを保存するフィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">3</td>
					<td>BlobStoreImageField</td>
					<td>dataforms.dao.file.ImageData<br/>blob</td>
					<td>&lt;input type=&quot;file&quot; ...&gt;</td>
					<td>
						画像ファイルをblobに保存するフィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">4</td>
					<td>FolderStoreImageField</td>
					<td>dataforms.dao.file.ImageData<br/>varchar</td>
					<td>&lt;input type=&quot;file&quot; ...&gt;</td>
					<td>
						画像ファイルをフォルダに保存しvarchar型にそのpathを保存するフィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">5</td>
					<td>BlobStoreVideoField</td>
					<td>dataforms.dao.file.VideoData<br/>blob</td>
					<td>&lt;input type=&quot;file&quot; ...&gt;</td>
					<td>
						動画ファイルをblobに保存するフィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">6</td>
					<td>FolderStoreVideoField</td>
					<td>dataforms.dao.file.VideoData<br/>varchar</td>
					<td>&lt;input type=&quot;file&quot; ...&gt;</td>
					<td>
						動画ファイルをフォルダに保存しvarchar型にそのpathを保存するフィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">7</td>
					<td>BlobStoreAudioField</td>
					<td>dataforms.dao.file.AudioData<br/>blob</td>
					<td>&lt;input type=&quot;file&quot; ...&gt;</td>
					<td>
						音声ファイルをblobに保存するフィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">8</td>
					<td>FolderStoreAudioField</td>
					<td>dataforms.dao.file.AudioData<br/>varchar</td>
					<td>&lt;input type=&quot;file&quot; ...&gt;</td>
					<td>
						音声ファイルをフォルダに保存しvarchar型にそのpathを保存するフィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">9</td>
					<td>WebResourceImageField</td>
					<td>dataforms.dao.file.ImageData<br/>-</td>
					<td>&lt;div ... &gt;&lt;/div&gt;</td>
					<td>
						サーバ上の画像を表示するフィールド
					</td>
				</tr>
			</tbody>
		</table>
		<h2>その他のフィールド</h2>
		<p>
		</p>
		<table>
			<caption>
				フィールド一覧
			</caption>
			<thead>
				<tr>
					<th style="width:40px;">No.</th><th style="width:200px;">クラス名</th><th style="width:100px;">Java型<br/>SQL型</th><th style="width:300px;">対応するHTML TAG</th><th style="width: 300px;">用途</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td style="text-align: right;">1</td>
					<td>FlagField</td>
					<td>java.lang.String<br/>char</td>
					<td>&lt;input type=&quot;checkbox&quot; value="1""/&gt;</td>
					<td>
						フラグフィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">2</td>
					<td>FolderField</td>
					<td>java.lang.String<br/>varchar</td>
					<td>&lt;input type=&quot;text&quot; /&gt;</td>
					<td>
						フォルダの入力フィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">3</td>
					<td>ExistingFolderField</td>
					<td>java.lang.String<br/>varchar</td>
					<td>&lt;input type=&quot;text&quot; /&gt;</td>
					<td>
						フォルダの入力フィールド(存在チェック機能付き)
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">4</td>
					<td>MemoField</td>
					<td>java.lang.String<br/>varchar</td>
					<td>&lt;input type=&quot;text&quot; /&gt;</td>
					<td>
						メモフィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">5</td>
					<td>ZipCodeField</td>
					<td>java.lang.String<br/>varchar</td>
					<td>&lt;input type=&quot;text&quot; /&gt;</td>
					<td>
						郵便番号入力フィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">6</td>
					<td>RowNoField</td>
					<td>java.lang.String<br/>varchar</td>
					<td>&lt;span&gt;&lt;/span&gt;</td>
					<td>
						検索結果の行番号表示用フィールド
					</td>
				</tr>
			</tbody>
		</table>
		<h2>非表示機能フィールド</h2>
		<p>
		</p>
		<table>
			<caption>
				フィールド一覧
			</caption>
			<thead>
				<tr>
					<th style="width:40px;">No.</th><th style="width:200px;">クラス名</th><th style="width:100px;">Java型<br/>SQL型</th><th style="width:300px;">対応するHTML TAG</th><th style="width: 300px;">用途</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td style="text-align: right;">1</td>
					<td>DeleteFlagField</td>
					<td>java.lang.String<br/>char</td>
					<td>&lt;input type=&quot;hidden&quot; ...&gt;</td>
					<td>
						削除フラグフィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">2</td>
					<td>RecordIdField</td>
					<td>java.lang.Long<br/>bigint</td>
					<td>&lt;input type=&quot;hidden&quot; ...&gt;</td>
					<td>
						レコードIDフィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">3</td>
					<td>SortOrderField</td>
					<td>java.lang.Short<br/>smallint</td>
					<td>&lt;input type=&quot;hidden&quot; ...&gt;</td>
					<td>
						ソート順フィールド
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">4</td>
					<td>CreateTimestampField</td>
					<td>java.sql.Timestamp<br/>timestamp</td>
					<td>&lt;input type=&quot;hidden&quot; ...&gt;</td>
					<td>
						登録日時
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">5</td>
					<td>CreateUserIdField</td>
					<td>java.util.Long<br/>bigint</td>
					<td>&lt;input type=&quot;hidden&quot; ...&gt;</td>
					<td>
						登録ユーザID
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">6</td>
					<td>UpdateTimestampField</td>
					<td>java.util.Timestamp<br/>timestamp</td>
					<td>&lt;input type=&quot;hidden&quot; ...&gt;</td>
					<td>
						更新日時
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">7</td>
					<td>UpdateUserIdField</td>
					<td>java.util.Long<br/>bigint</td>
					<td>&lt;input type=&quot;hidden&quot; ...&gt;</td>
					<td>
						更新ユーザID
					</td>
				</tr>
			</tbody>
		</table>
		<h2>問合せで使用する機能フィールド</h2>
		<p>
		</p>
		<table>
			<caption>
				フィールド一覧
			</caption>
			<thead>
				<tr>
					<th style="width:40px;">No.</th><th style="width:200px;">クラス名</th><th style="width: 400px;">用途</th>
				</tr>
			</thead>
			<tbody>
				<!--  -->
				<tr>
					<td style="text-align: right;">1</td>
					<td>AliasField</td>
					<td colspan="2">
						カラムの別名を指定するためのフィールドクラス
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">2</td>
					<td>AvgField</td>
					<td colspan="2">
						平均値を求めるための集計フィールドクラス
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">3</td>
					<td>CountField</td>
					<td colspan="2">
						個数を求めるための集計フィールドクラス
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">4</td>
					<td>MaxField</td>
					<td colspan="2">
						最大値を求めるための集計フィールドクラス
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">5</td>
					<td>MinField</td>
					<td colspan="2">
						最小値を求めるための集計フィールドクラス
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">6</td>
					<td>SqlField</td>
					<td colspan="2">
						SQLの任意の式フィールドクラス
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">7</td>
					<td>SumField</td>
					<td colspan="2">
						合計値を求めるための集計フィールドクラス
					</td>
				</tr>
			</tbody>
		</table>
	</body>
</html>