<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Page,Form,HtmlTable</title>
		<link type="text/css" href="../css/document.css" rel="stylesheet" />
	</head>
	<body>
		<h1><span>7.</span>Page,Form,HtmlTable</h1>
		<h2>ページ内のフォームの連携</h2>
		<p>
			dataforms2.jarではページの標準的な構成とその動作が決まっています。
			ページには通常以下の3種類のフォームが配置されます。
		</p>
		<table>
			<caption>
				ページに配置する主要フォーム
			</caption>
			<thead>
				<tr>
					<th style="width:40px;">No.</th>
					<th style="width:200px;">基本クラス</th>
					<th style="width:100px;">ID</th>
					<th style="width: 300px;">用途</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td style="text-align: right;">1</td>
					<td>QueryForm</td>
					<td>queryForm</td>
					<td>
						データベースに問い合わせる際の条件を入力します。
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">2</td>
					<td>QueryResultForm</td>
					<td>queryResultForm</td>
					<td>
						QueryFormで入力した条件に従ってデータベースを検索し、その結果を表示します。
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">3</td>
					<td>EditForm</td>
					<td>editForm</td>
					<td>
						QueryResultFormに表示された結果から選択したレコードを表示し、
						その内容を修正・登録します。
					</td>
				</tr>
			</tbody>
		</table>
		<p>
			QueryFormに入力された検索条件はバリデーションされたのち、QueryResultFormに渡されます。
			QueryResultFormはこの条件を使用してデータベースの問合せを行い、その結果を一覧表示します。
			一覧表示されている結果の一つを選択すると、そのキー情報をEditFormに渡して表示します。
			EditFormはキー情報をもとに編集対象データを取得し、その内容を編集した後データを更新します。
		</p>
		<p>
			大抵のアプリケーションはこの流れの全部または一部に当てはまると思います。
			EditFormの配置を省略すると、問合せ条件の入力から問合せ結果の表示するページになります。
			QueryResultFormの配置を省略すると、問合せ条件を直接EditFormに渡しその条件に合った
			データを更新するページになります。
			また、QueryFormを省略すると、いきなり該当データをQueryResultFormに表示するページになります。
		</p>
		<p>
			この流れに沿わないページを作る場合、この3種類のFormをすべて配置せずに、
			Formクラスから派生した独自のクラスを作成して配置することになります。
			しかし、このようなページを作ることはほとんどないと思います。
		</p>
		<h2>QuerySetDaoの機能</h2>
		<p>
			この3種類のフォームのデータベースアクセスを担当するのが、Daoから派生したQuerySetDaoクラスになります。
			このDaoクラスは開発ツールの「DAO Javaクラス作成」を使用して作成します。
		</p>
		<figure>
			<figcaption>Dao Javaクラス作成</figcaption>
			<img src="../02.devtool/dao1.png" style="width:50%; height:50%;"/>
		</figure>
		<p>
			この画面では一覧取得用問合せと編集フォーム用問合せを指定します。
			このフィールドには問合せだけでなくテーブルクラスも指定できます。
			テーブルクラスを指定した場合、自動的にSingleTableQueryという問合せクラスを生成して登録します。
		</p>
		<p>
			QueryResultFormは一覧取得用問合せを使用してデータを取得します。
			この時、QueryFormに配置されたフィールドのリストと入力されたデータのマップを、
			指定された問合せのsetConditionFieldList、setConditionDataに設定します。
		</p>
		<p>
			EditFormは編集フォーム用問合せを使用して編集するデータを取得します。
			編集フォーム用問合せは1レコード編集と複数レコード編集の2パターンがあります。
		</p>
		<h3>1レコード編集のページ</h3>
		<p>
			1レコード編集の場合、QueryResultFormから渡された主キーの情報を編集フォーム用問合せに渡して編集データを取得します。
			このモードでは関連する問合せやテーブルを複数指定することができます。
			これらの問合せのフィールドには指定された主キーのフィールドを含んだものである必要があります。
		</p>
		<p>
			「6.Table,Query,Dao」で作成したJoinTestTableはSampleIdFielを持っているので、SampleFieldの関連するテーブルといえます。
			SampleTableとJoinTestTableを同時に編集するページを作る場合、以下のような設定でDaoを作成します。
		</p>
		<figure>
			<figcaption>Dao Javaクラス作成</figcaption>
			<img src="dao1.png" style="width:50%; height:50%;"/>
		</figure>
		<p>
			上記の画面で作成したDaoクラスは以下のようになります。
			このクラスのコンストラクタでsetSingleRecordQueryメソッドにSampleTableのインスタンスを指定し、
			addMultiRecordQueryListメソッドでJoinTestTableのインスタンスを追加しています。
		</p>
		<div class="filecaption">Sample2Dao.javaの生成結果</div>
		<div class="wrappre">
			<pre>

	・
	・
	・

public class Sample2Dao extends QuerySetDao {

	・
	・
	・

	/**
	 * &#12469;&#12531;&#12503;&#12523;&#12486;&#12540;&#12502;&#12523;&#12290;
	 */
	private SampleTable sampleTable = null;

	/**
	 * &#12469;&#12531;&#12503;&#12523;&#12486;&#12540;&#12502;&#12523;&#12434;&#21462;&#24471;&#12375;&#12414;&#12377;&#12290;
	 * @return &#12469;&#12531;&#12503;&#12523;&#12486;&#12540;&#12502;&#12523;&#12290;
	 */
	public SampleTable getSampleTable() {
		return this.sampleTable;
	}

	/**
	 * Join&#12486;&#12473;&#12488;&#12486;&#12540;&#12502;&#12523;&#12290;
	 */
	private JoinTestTable joinTestTable = null;

	/**
	 * Join&#12486;&#12473;&#12488;&#12486;&#12540;&#12502;&#12523;&#12434;&#21462;&#24471;&#12375;&#12414;&#12377;&#12290;
	 * @return Join&#12486;&#12473;&#12488;&#12486;&#12540;&#12502;&#12523;&#12290;
	 */
	public JoinTestTable getJoinTestTable() {
		return this.joinTestTable;
	}


	/**
	 * &#12467;&#12531;&#12473;&#12488;&#12521;&#12463;&#12479;&#12290;
	 * @throws Exception &#20363;&#22806;&#12290;
	 */
	public Sample2Dao() {
		this.setComment(&quot;&#12469;&#12531;&#12503;&#12523;2&quot;);
		this.setListQuery(this.sampleTable = new SampleTable());
		this.setSingleRecordQuery(this.sampleTable = new SampleTable());
		this.addMultiRecordQueryList(this.joinTestTable = new JoinTestTable());

	}

	・
	・
	・

}

			</pre>
		</div>
		<p>
			上記Daoを参照したページを以下のように作成し、「Webリソース作成」を使用してこのページのHTMLを作成します。
		</p>
		<figure>
			<figcaption>Page Javaクラス作成</figcaption>
			<img src="page1.png" style="width:50%; height:50%;"/>
		</figure>
		<p>
			このページを実行し、EditFormを表示すると以下のようになります。
			SampleTableの1レコードに対してJoinTestTableは複数レコードが対応するため、
			JoinTestTableの複数レコードを編集するためのテーブルが展開されています。
			このテーブルはEditableHtmlTableというクラスで実現しているため、行の追加、削除、ドラグによる順序変更をサポートしています。
		</p>
		<figure>
			<figcaption>JoinTestTableも編集できるようにしたページ</figcaption>
			<img src="page2.png" style="width:50%; height:50%;"/>
		</figure>
		<p>
			QuerySetDaoクラスではsetSingleRecordQuery,addMultiRecordQueryListで登録された各問合せの
			mainTableに対する追加(insertメソッド)・更新(updateメソッド)・削除(deleteメソッド)処理を行う機能を持っています。
			そのため開発ツールで作成したコードだけで、データのメンテナンス機能が出来上がります。
		</p>
		<p>
			このパターンは見出し部と明細行のある伝票を登録するようなページに応用することができます。
		</p>
		<h3>複数レコード編集のページ</h3>
		<p>
			EditFormでテーブルの複数レコードを一度に編集することもできます。
			先ず次のようなテーブルを作成します。
		</p>
		<figure>
			<figcaption>複数レコード編集用テーブル</figcaption>
			<img src="mtable.png" style="width:50%; height:50%;"/>
		</figure>
		<p>
			このテーブルのCode1Fieldが同じ複数のレコードをまとめて編集するようにするため、
			Code1Fieldの毎のレコード件数を取得する問合せを作成します。
		</p>
		<figure>
			<figcaption>Code1Field毎のレコード数を求める問合せ</figcaption>
			<img src="mquery.png" style="width:50%; height:50%;"/>
		</figure>
		<p>
			この問合せは以下のSQLを生成し、Code1Field毎のレコード件数求める問合せになります。
		</p>
		<div class="filecaption">上記問合せに対応するSQL</div>
		<div class="wrappre">
			<pre>
select
	m.code1 as code1
	,count(m.multi_test_id) as multi_test_id
from multi_test as  m
	group by m.code1
			</pre>
		</div>
		<p>
			次の画面でDaoクラスを作成し、一覧取得用問合せに席に作成したMultiTestCode1Queryを指定します。
		</p>
		<p>
			編集フォーム用問合せは、Code1Fieldが同じ複数のレコードを編集するだめ、
			編集フォームを「複数レコードを編集」に設定し、編集対象にMultiTestTableを指定します。
			また編集データを限定するためのキーフィールドをチェックします。
			この場合code1をチェックします。
		</p>
		<figure>
			<figcaption>Daoクラスの作成</figcaption>
			<img src="mdao.png" style="width:50%; height:50%;"/>
		</figure>
		<p>
			「ページJavaクラス作成」をしてようして、このDaoを使用するするページクラスを作成します。
		</p>
		<figure>
			<figcaption>Pageクラスの作成</figcaption>
			<img src="mpage.png" style="width:50%; height:50%;"/>
		</figure>
		<p>
			ページのJavaクラスをデプロイした後、「Webリソース作成」を使用して、このページクラスからHTMLを作成してください。
			このページで検索を行うと以下のように、コード1毎の件数が表示されます。
		</p>
		<figure>
			<figcaption>複数レコード編集ページのQueryFormとQueryResultFormの表示</figcaption>
			<img src="mpage1.png" style="width:50%; height:50%;"/>
		</figure>
		<p>
			コード1のリンクをクリックすると、コード1の値が同じ複数のレコードをまとめて編集することができます。
		</p>
		<figure>
			<figcaption>複数レコード編集ページのEditFormの表示</figcaption>
			<img src="mpage2.png" style="width:50%; height:50%;"/>
		</figure>
		<p>
			ちなみにmulti_testテーブルのデータは以下のようになっています。
		</p>
		<figure>
			<figcaption>multi_testテーブルのデータ</figcaption>
			<img src="mdata.png" style="width:50%; height:50%;"/>
		</figure>
		<p>
			この状態ではCode1FieldとCode2Fieldに何も入力しない状態でも登録できてしまうので、
			MultiTestEditFormのcode1フィールドとcode2フィールドに必須バリデータを登録します。
		</p>
		<p>
			生成したMultiTestDaoにCode1FieldとMultiTestTableのインスタンスを取得するgetterが生成されています。
			以下のようにCode1FieldとMultiTestTablea中のCode2Fieldに必須バリデータを追加します。
		</p>
		<div class="filecaption">編集フォームの調整</div>
		<div class="wrappre">
			<pre>
	/**
	 * コンストラクタ。
	 */
	public MultiTestEditForm() {
		MultiTestDao dao = new MultiTestDao();
		<b>dao.getCode1Field().addValidator(new RequiredValidator());</b>
		<b>dao.getMultiTestTable().getCode2Field().addValidator(new RequiredValidator());</b>
		this.addFields(dao);
	}
			</pre>
		</div>
		<p>
			上記コードを実行すると、以下のようにコード1とコード2で必須チェックが行われるようになります。
		</p>
		<figure>
			<figcaption>必須バリデータを追加したMultiTestEditForm</figcaption>
			<img src="mpage3.png" style="width:50%; height:50%;"/>
		</figure>
		<h2>Webリソース作成</h2>
		<p>
			Page, Dialog, Form, HtmlTable, Field, FieldValidator の各クラスは全てWebComponentから派生しています。
			Pageは複数のFormを持つことができます。
			また、Formは複数のフィールドとHtmlTableを持つことができます。
			Fieldは複数のFieldValidatorを持つことができます。
			dataforms2.jarではJavaのページクラスでこれらのWebComponentの関係を定義します。
			開発ツールの「Webリソース作成」はこのページクラスをもとにHTMLとJavascriptを作成するツールです。
		</p>
		<h3>ページHTMLの作成</h3>
		<p>
			「Webリソース作成」で作成したSample2Page.htmlは以下のように、
			1つのHTMLファイルに3種類のフォームが展開されています。
		</p>
		<div class="filecaption">Sample2Page.htmlの内容</div>
		<div class="wrappre">
			<pre>

&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;meta charset=&quot;UTF-8&quot;&gt;
		&lt;title&gt;&lt;/title&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;div id=&quot;mainDiv&quot;&gt;
			&lt;form id=&quot;queryForm&quot;&gt;
				&lt;div class=&quot;formHeader&quot;&gt;&#26908;&#32034;&#26465;&#20214;&lt;/div&gt;
				&lt;table class=&quot;responsive&quot;&gt;
					&lt;tbody&gt;
						&lt;tr&gt;
							&lt;th&gt;&#12486;&#12461;&#12473;&#12488;&lt;/th&gt;
							&lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;sampleText&quot; /&gt;&lt;/td&gt;
						&lt;/tr&gt;
						&lt;tr&gt;
							&lt;th&gt;&#25968;&#20516;(from)&lt;/th&gt;
							&lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;sampleNumericFrom&quot; /&gt;&lt;/td&gt;
						&lt;/tr&gt;
						&lt;tr&gt;
							&lt;th&gt;&#25968;&#20516;(to)&lt;/th&gt;
							&lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;sampleNumericTo&quot; /&gt;&lt;/td&gt;
						&lt;/tr&gt;
						&lt;tr&gt;
							&lt;th&gt;&#26085;&#20184;(from)&lt;/th&gt;
							&lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;sampleDateFrom&quot; /&gt;&lt;/td&gt;
						&lt;/tr&gt;
						&lt;tr&gt;
							&lt;th&gt;&#26085;&#20184;(to)&lt;/th&gt;
							&lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;sampleDateTo&quot; /&gt;&lt;/td&gt;
						&lt;/tr&gt;
						&lt;tr&gt;
							&lt;th&gt;&#12469;&#12531;&#12503;&#12523;&#36984;&#25246;&#32930;&lt;/th&gt;
							&lt;td&gt;&lt;select id=&quot;sampleSelect&quot;&gt;&lt;/select&gt;&lt;/td&gt;
						&lt;/tr&gt;
					&lt;/tbody&gt;
				&lt;/table&gt;
				&lt;input type=&quot;submit&quot; id=&quot;queryButton&quot; class=&quot;largeButton&quot; value=&quot;&#26908;&#32034;&quot;&gt;
				&lt;input type=&quot;button&quot; id=&quot;exportButton&quot; class=&quot;largeButton&quot; value=&quot;&#12456;&#12463;&#12473;&#12509;&#12540;&#12488;&quot;&gt;
				&lt;input type=&quot;button&quot; id=&quot;resetButton&quot; class=&quot;largeButton&quot; value=&quot;&#12522;&#12475;&#12483;&#12488;&quot;&gt;
				&lt;input type=&quot;button&quot; id=&quot;newButton&quot; class=&quot;largeButton&quot; value=&quot;&#26032;&#35215;&#30331;&#37682;&quot;&gt;
			&lt;/form&gt;
			&lt;form id=&quot;queryResultForm&quot;&gt;
				&lt;div class=&quot;formHeader&quot;&gt;&#26908;&#32034;&#32080;&#26524;&lt;/div&gt;
				&lt;table class=&quot;responsive&quot;&gt;
					&lt;tbody&gt;
					&lt;/tbody&gt;
				&lt;/table&gt;
				&lt;div class=&quot;hScrollDiv&quot;&gt;
					&lt;table id=&quot;queryResult&quot;&gt;
						&lt;thead&gt;
							&lt;tr&gt;
								&lt;th&gt;
									No.
								&lt;/th&gt;
								&lt;th&gt;
									&#12486;&#12461;&#12473;&#12488;
								&lt;/th&gt;
								&lt;th&gt;
									&#25968;&#20516;
								&lt;/th&gt;
								&lt;th&gt;
									&#26085;&#20184;
								&lt;/th&gt;
								&lt;th&gt;
									&#12469;&#12531;&#12503;&#12523;&#36984;&#25246;&#32930;
								&lt;/th&gt;
								&lt;th&gt;
									&#25805;&#20316;
								&lt;/th&gt;
							&lt;/tr&gt;
						&lt;/thead&gt;
						&lt;tbody&gt;
							&lt;tr&gt;
								&lt;td&gt;
									&lt;span id=&quot;queryResult[0].rowNo&quot;&gt;&lt;/span&gt;
									&lt;input type=&quot;hidden&quot; id=&quot;queryResult[0].sampleId&quot; /&gt;
									&lt;input type=&quot;hidden&quot; id=&quot;queryResult[0].createUserId&quot; /&gt;
									&lt;input type=&quot;hidden&quot; id=&quot;queryResult[0].createTimestamp&quot; /&gt;
									&lt;input type=&quot;hidden&quot; id=&quot;queryResult[0].updateUserId&quot; /&gt;
									&lt;input type=&quot;hidden&quot; id=&quot;queryResult[0].updateTimestamp&quot; /&gt;
								&lt;/td&gt;
								&lt;td&gt;
									&lt;a id=&quot;queryResult[0].updateButton&quot; href=&quot;javascript:void(0);&quot;&gt;&lt;span id=&quot;queryResult[0].sampleText&quot;&gt;&lt;/span&gt;&lt;/a&gt;
								&lt;/td&gt;
								&lt;td&gt;
									&lt;span id=&quot;queryResult[0].sampleNumeric&quot;&gt;&lt;/span&gt;
								&lt;/td&gt;
								&lt;td&gt;
									&lt;span id=&quot;queryResult[0].sampleDate&quot;&gt;&lt;/span&gt;
								&lt;/td&gt;
								&lt;td&gt;
									&lt;span id=&quot;queryResult[0].sampleSelect&quot;&gt;&lt;/span&gt;
								&lt;/td&gt;
								&lt;td&gt;
									&lt;input type=&quot;button&quot; id=&quot;queryResult[0].viewButton&quot; value=&quot;&#34920;&#31034;&quot;&gt;
									&lt;input type=&quot;button&quot; id=&quot;queryResult[0].referButton&quot; value=&quot;&#21442;&#29031;&#30331;&#37682;&quot;&gt;
									&lt;input type=&quot;button&quot; id=&quot;queryResult[0].deleteButton&quot; value=&quot;&#21066;&#38500;&quot;&gt;
								&lt;/td&gt;
							&lt;/tr&gt;
						&lt;/tbody&gt;
					&lt;/table&gt;
				&lt;/div&gt;
			&lt;/form&gt;
			&lt;form id=&quot;editForm&quot;&gt;
				&lt;div class=&quot;formHeader&quot;&gt;&lt;span id=&quot;editFormTitle&quot;&gt;&lt;/span&gt;&lt;/div&gt;
				&lt;input type=&quot;hidden&quot; id=&quot;saveMode&quot; /&gt;
				&lt;input type=&quot;hidden&quot; id=&quot;sampleId&quot; /&gt;
				&lt;input type=&quot;hidden&quot; id=&quot;createUserId&quot; /&gt;
				&lt;input type=&quot;hidden&quot; id=&quot;createTimestamp&quot; /&gt;
				&lt;input type=&quot;hidden&quot; id=&quot;updateUserId&quot; /&gt;
				&lt;input type=&quot;hidden&quot; id=&quot;updateTimestamp&quot; /&gt;
				&lt;table class=&quot;responsive&quot;&gt;
					&lt;tbody&gt;
						&lt;tr&gt;
							&lt;th&gt;&#12486;&#12461;&#12473;&#12488;&lt;/th&gt;
							&lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;sampleText&quot; /&gt;&lt;/td&gt;
						&lt;/tr&gt;
						&lt;tr&gt;
							&lt;th&gt;&#25968;&#20516;&lt;/th&gt;
							&lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;sampleNumeric&quot; /&gt;&lt;/td&gt;
						&lt;/tr&gt;
						&lt;tr&gt;
							&lt;th&gt;&#26085;&#20184;&lt;/th&gt;
							&lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;sampleDate&quot; /&gt;&lt;/td&gt;
						&lt;/tr&gt;
						&lt;tr&gt;
							&lt;th&gt;&#12469;&#12531;&#12503;&#12523;&#36984;&#25246;&#32930;&lt;/th&gt;
							&lt;td&gt;&lt;select id=&quot;sampleSelect&quot;&gt;&lt;/select&gt;&lt;/td&gt;
						&lt;/tr&gt;
					&lt;/tbody&gt;
				&lt;/table&gt;
				&lt;div class=&quot;hScrollDiv&quot;&gt;
					&lt;table id=&quot;joinTestList&quot; class=&quot;editableTable&quot;&gt;
						&lt;thead&gt;
							&lt;tr&gt;
								&lt;th colspan=&quot;2&quot; nowrap&gt;

								&lt;/th&gt;
								&lt;th nowrap&gt;
									No.
								&lt;/th&gt;
								&lt;th&gt;
									&#12486;&#12461;&#12473;&#12488;
								&lt;/th&gt;
							&lt;/tr&gt;
						&lt;/thead&gt;
						&lt;tbody&gt;
							&lt;tr&gt;
								&lt;td class=&quot;buttonColumn&quot;&gt;
									&lt;input type=&quot;button&quot; id=&quot;joinTestList[0].addButton&quot; value=&quot;+&quot;/&gt;
								&lt;/td&gt;
								&lt;td class=&quot;buttonColumn&quot;&gt;
									&lt;input type=&quot;button&quot; id=&quot;joinTestList[0].deleteButton&quot; value=&quot;-&quot;/&gt;
								&lt;/td&gt;
								&lt;td style=&quot;text-align: right;&quot; class=&quot;rowno&quot;&gt;
									&lt;span id=&quot;joinTestList[0].no&quot;&gt;&lt;/span&gt;
								&lt;/td&gt;
								&lt;td&gt;
									&lt;input type=&quot;text&quot; id=&quot;joinTestList[0].joinTestText&quot; /&gt;
									&lt;input type=&quot;hidden&quot; id=&quot;joinTestList[0].joinTestId&quot; /&gt;
									&lt;input type=&quot;hidden&quot; id=&quot;joinTestList[0].sampleId&quot; /&gt;
									&lt;input type=&quot;hidden&quot; id=&quot;joinTestList[0].createUserId&quot; /&gt;
									&lt;input type=&quot;hidden&quot; id=&quot;joinTestList[0].createTimestamp&quot; /&gt;
									&lt;input type=&quot;hidden&quot; id=&quot;joinTestList[0].updateUserId&quot; /&gt;
									&lt;input type=&quot;hidden&quot; id=&quot;joinTestList[0].updateTimestamp&quot; /&gt;
								&lt;/td&gt;
							&lt;/tr&gt;
						&lt;/tbody&gt;
						&lt;tfoot&gt;
							&lt;tr&gt;
								&lt;th class=&quot;buttonColumn&quot;&gt;
									&lt;input type=&quot;button&quot; id=&quot;joinTestList.addButton&quot; value=&quot;+&quot;/&gt;
								&lt;/th&gt;
								&lt;th colspan=&quot;3&quot;&gt;
								&lt;/th&gt;
							&lt;/tr&gt;
						&lt;/tfoot&gt;
					&lt;/table&gt;
				&lt;/div&gt;
				&lt;input type=&quot;button&quot; id=&quot;confirmButton&quot; class=&quot;largeButton&quot; value=&quot;&#30906;&#35469;&quot;/&gt;
				&lt;input type=&quot;button&quot; id=&quot;saveButton&quot; class=&quot;largeButton&quot; value=&quot;&#30331;&#37682;&quot;/&gt;
				&lt;input type=&quot;button&quot; id=&quot;resetButton&quot; class=&quot;largeButton&quot; value=&quot;&#12522;&#12475;&#12483;&#12488;&quot;/&gt;
				&lt;input type=&quot;button&quot; id=&quot;deleteButton&quot; class=&quot;largeButton&quot; value=&quot;&#21066;&#38500;&quot;/&gt;
				&lt;input type=&quot;button&quot; id=&quot;backButton&quot; class=&quot;largeButton&quot; value=&quot;&#25147;&#12427;&quot;/&gt;
			&lt;/form&gt;

		&lt;/div&gt;
	&lt;/body&gt;
&lt;/html&gt;
			</pre>
		</div>
		<p>
			このサンプルではこのHTMLで問題なく動作します。
			しかしSample2EditFormをSample2Page以外のページにも配置したい場合、
			このフォームを配置した別のページにもフォームのHTMLを作成することになってしまいます。
		</p>
		<p>
			このような場合「フォームは別ファイルに出力」チェックを行いHTMLを作成します。
		</p>
		<figure>
			<figcaption>フォーム別にHTMLを出力</figcaption>
			<img src="page3.png" style="width:50%; height:50%;"/>
		</figure>
		<p>
			上記設定でHTMLを出力すると、以下のようにPageのHTMLは空のformタグを生成します。
			さらにSample2EditForm.htmlというファイルにフィールドに対応したタグを出力します。
			(この他にSample2QueryForm.htmlとSample2QueryResultForm.htmlも作成されます)
		</p>
		<div class="filecaption">フォームを別ファイルにしたSample2Page.htmlの内容</div>
		<div class="wrappre">
			<pre>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;meta charset=&quot;UTF-8&quot;&gt;
		&lt;title&gt;&lt;/title&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;div id=&quot;mainDiv&quot;&gt;
			&lt;form id=&quot;queryForm&quot;&gt;
			&lt;/form&gt;
			&lt;form id=&quot;queryResultForm&quot;&gt;
			&lt;/form&gt;
			&lt;form id=&quot;editForm&quot;&gt;
			&lt;/form&gt;

		&lt;/div&gt;
	&lt;/body&gt;
&lt;/html&gt;
			</pre>
		</div>
		<div class="filecaption">Sample2EditForm.htmlの内容</div>
		<div class="wrappre">
			<pre>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;meta charset=&quot;UTF-8&quot;&gt;
		&lt;title&gt;&lt;/title&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;form id=&quot;editForm&quot;&gt;
			&lt;div class=&quot;formHeader&quot;&gt;&lt;span id=&quot;editFormTitle&quot;&gt;&lt;/span&gt;&lt;/div&gt;
			&lt;input type=&quot;hidden&quot; id=&quot;saveMode&quot; /&gt;
			&lt;input type=&quot;hidden&quot; id=&quot;sampleId&quot; /&gt;
			&lt;input type=&quot;hidden&quot; id=&quot;createUserId&quot; /&gt;
			&lt;input type=&quot;hidden&quot; id=&quot;createTimestamp&quot; /&gt;
			&lt;input type=&quot;hidden&quot; id=&quot;updateUserId&quot; /&gt;
			&lt;input type=&quot;hidden&quot; id=&quot;updateTimestamp&quot; /&gt;
			&lt;table class=&quot;responsive&quot;&gt;
				&lt;tbody&gt;
					&lt;tr&gt;
						&lt;th&gt;&#12486;&#12461;&#12473;&#12488;&lt;/th&gt;
						&lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;sampleText&quot; /&gt;&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr&gt;
						&lt;th&gt;&#25968;&#20516;&lt;/th&gt;
						&lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;sampleNumeric&quot; /&gt;&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr&gt;
						&lt;th&gt;&#26085;&#20184;&lt;/th&gt;
						&lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;sampleDate&quot; /&gt;&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr&gt;
						&lt;th&gt;&#12469;&#12531;&#12503;&#12523;&#36984;&#25246;&#32930;&lt;/th&gt;
						&lt;td&gt;&lt;select id=&quot;sampleSelect&quot;&gt;&lt;/select&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;
			&lt;/table&gt;
			&lt;div class=&quot;hScrollDiv&quot;&gt;
				&lt;table id=&quot;joinTestList&quot; class=&quot;editableTable&quot;&gt;
					&lt;thead&gt;
						&lt;tr&gt;
							&lt;th colspan=&quot;2&quot; nowrap&gt;

							&lt;/th&gt;
							&lt;th nowrap&gt;
								No.
							&lt;/th&gt;
							&lt;th&gt;
								&#12486;&#12461;&#12473;&#12488;
							&lt;/th&gt;
						&lt;/tr&gt;
					&lt;/thead&gt;
					&lt;tbody&gt;
						&lt;tr&gt;
							&lt;td class=&quot;buttonColumn&quot;&gt;
								&lt;input type=&quot;button&quot; id=&quot;joinTestList[0].addButton&quot; value=&quot;+&quot;/&gt;
							&lt;/td&gt;
							&lt;td class=&quot;buttonColumn&quot;&gt;
								&lt;input type=&quot;button&quot; id=&quot;joinTestList[0].deleteButton&quot; value=&quot;-&quot;/&gt;
							&lt;/td&gt;
							&lt;td style=&quot;text-align: right;&quot; class=&quot;rowno&quot;&gt;
								&lt;span id=&quot;joinTestList[0].no&quot;&gt;&lt;/span&gt;
							&lt;/td&gt;
							&lt;td&gt;
								&lt;input type=&quot;text&quot; id=&quot;joinTestList[0].joinTestText&quot; /&gt;
								&lt;input type=&quot;hidden&quot; id=&quot;joinTestList[0].joinTestId&quot; /&gt;
								&lt;input type=&quot;hidden&quot; id=&quot;joinTestList[0].sampleId&quot; /&gt;
								&lt;input type=&quot;hidden&quot; id=&quot;joinTestList[0].createUserId&quot; /&gt;
								&lt;input type=&quot;hidden&quot; id=&quot;joinTestList[0].createTimestamp&quot; /&gt;
								&lt;input type=&quot;hidden&quot; id=&quot;joinTestList[0].updateUserId&quot; /&gt;
								&lt;input type=&quot;hidden&quot; id=&quot;joinTestList[0].updateTimestamp&quot; /&gt;
							&lt;/td&gt;
						&lt;/tr&gt;
					&lt;/tbody&gt;
					&lt;tfoot&gt;
						&lt;tr&gt;
							&lt;th class=&quot;buttonColumn&quot;&gt;
								&lt;input type=&quot;button&quot; id=&quot;joinTestList.addButton&quot; value=&quot;+&quot;/&gt;
							&lt;/th&gt;
							&lt;th colspan=&quot;3&quot;&gt;
							&lt;/th&gt;
						&lt;/tr&gt;
					&lt;/tfoot&gt;
				&lt;/table&gt;
			&lt;/div&gt;
			&lt;input type=&quot;button&quot; id=&quot;confirmButton&quot; class=&quot;largeButton&quot; value=&quot;&#30906;&#35469;&quot;/&gt;
			&lt;input type=&quot;button&quot; id=&quot;saveButton&quot; class=&quot;largeButton&quot; value=&quot;&#30331;&#37682;&quot;/&gt;
			&lt;input type=&quot;button&quot; id=&quot;resetButton&quot; class=&quot;largeButton&quot; value=&quot;&#12522;&#12475;&#12483;&#12488;&quot;/&gt;
			&lt;input type=&quot;button&quot; id=&quot;deleteButton&quot; class=&quot;largeButton&quot; value=&quot;&#21066;&#38500;&quot;/&gt;
			&lt;input type=&quot;button&quot; id=&quot;backButton&quot; class=&quot;largeButton&quot; value=&quot;&#25147;&#12427;&quot;/&gt;
		&lt;/form&gt;

	&lt;/body&gt;
&lt;/html&gt;
			</pre>
		</div>
		<p>
			PageのHTMLはページ全体の見た目を定義するため必ず必要になります。
			FormクラスやDialogクラスはそれぞれのクラス名に対応したHTMLが存在すると、
			そちらを優先してPageに展開します。
			つまり、Sample2Page.htmlのeditFormの中に内容を記述しても、
			Sample2EditForm.htmlが存在すればその内容で上書きされたページが表示されます。
		</p>
		<p>
			したがって、WebComponent以下のクラスで対応するHTMLを作成できるのはPage, Dialog, Formになります。
			WebComponent以下のクラスは全て対応するJavascriptクラスを作成することができます。
			このJavascriptクラスを作成し処理を記述することにより、ブラウザ内での独自の動作を規定することができます。
		</p>
		<table>
			<caption>
				Webリソース作成で作成できるもの
			</caption>
			<thead>
				<tr>
					<th style="width:40px;">No.</th>
					<th style="width:200px;">クラス</th>
					<th style="width:100px;">HTML作成</th>
					<th style="width:100px;">Javascript作成</th>
					<th style="width: 300px;">備考</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td style="text-align: right;">1</td><td>Page</td><td style="text-align: center;">〇</td><td style="text-align: center;">〇</td>
					<td>
						複数のフォーム、複数のダイアログが配置可能。
						ページのHTMLは常に作成。ページのJavascriptは必要に応じて作成。
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">2</td><td>Dialog</td><td style="text-align: center;">〇</td><td style="text-align: center;">〇</td>
					<td>
						複数のフォームが配置可能。
						HTMLは常に作成。ダイアログのJavascriptは必要に応じて作成。
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">3</td><td>Form</td><td style="text-align: center;">〇</td><td style="text-align: center;">〇</td>
					<td>
						複数のフィールド、複数のHTMLテーブルが配置可能。
						フォームのHTML、Javascriptは必要に応じて作成。
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">4</td><td>HtmlTable</td><td style="text-align: center;">×</td><td style="text-align: center;">〇</td>
					<td>
						複数のフィールドを配置可能。
						Javascriptは必要に応じて作成。HTMLの作成は不可。
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">5</td><td>Field</td><td style="text-align: center;">×</td><td style="text-align: center;">〇</td>
					<td>
						複数のフィールドバリデータを登録可能。
						Javascriptは必要に応じて作成。HTMLの作成は不可。
					</td>
				</tr>
				<tr>
					<td style="text-align: right;">6</td><td>FieldValidator</td><td style="text-align: center;">×</td><td style="text-align: center;">〇</td>
					<td>
						Javascriptは必要に応じて作成。HTMLの作成は不可。
					</td>
				</tr>
			</tbody>
		</table>
		<h2>Javascriptクラスのカスタマイズ</h2>
		<h3>生成されたJavascriptの解説</h3>
		<p>

		</p>
		<div class="filecaption">FormのJavascript</div>
		<div class="wrappre">
			<pre>

			</pre>
		</div>
		<div class="filecaption">FieldのJavascript</div>
		<div class="wrappre">
			<pre>

			</pre>
		</div>
		<h3>WebComponmentオブジェクトの取得</h3>
		<h3>jQueryオブジェクトの取得</h3>
		<h2>HtmlTableクラス</h2>
		<h3>PageScrollHtmlTable</h3>
		<h3>EditableHtmlTable</h3>
		<h3>カラム固定テーブル</h3>
	</body>
</html>